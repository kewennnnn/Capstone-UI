<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="../styles.css" rel="stylesheet">
    <title>LivUltra by Capstone S06</title>
  </head>
  <body>
    <progress-bar current=5></progress-bar>
    <div id="app" class="flex-col">
      
      <div class="flex-row" style="max-width: 100%;">
        <div id="result-col" class="col-left flex-col" style="width: max-content; max-width: 620px;">
          
          <div>
            <div class="flex-row" style="justify-content: center">
              <h1 id="result-stage" class="no-margin"></h1>
              <div class="tooltip-positioner" style="left:50px; bottom:30px">
                <my-tooltip 
                  content1="Fibrosis is categorized into stages F0-F4."
                  content2="Advanced liver fibrosis includes stage F3-F4 and requires urgent attention from a specialist."
                  numOfTips="3"
                  tipNumber="1">
                </my-tooltip>
              </div>
            </div>
            <h3 class="no-margin">Likelihood of Advanced Liver Fibrosis</h3>
          </div>

          <div id="result-bar-container">
            <div id="result-bar-pointer-container">
              <div id="result-bar-pointer"></div>
            </div>
            <div id="result-bar"></div>
          </div>
          <h3 id="result-advice" class="no-margin"></h3>
        </div>
        <div class="col" style="width: 650px;">
          <div class="tooltip-positioner" style="right:500px; bottom:15px">
            <my-tooltip 
              content1="Platelet count is one of the components in assessing liver fibrosis. "
              content2="The normal range for adults is 150-450 thousand platelets per microliter of blood."
              numOfTips="3"
              tipNumber="2"
              position="tooltip-popup-right-top">
            </my-tooltip>
          </div>
          <div id="platelet-section" class="section align-left" style="border-color: var(--blue);" onclick="window.location.href = './platelet.html'">
            <div class="flex-row" style="width: 100%;">
              <h3 id="platelet-label" class="no-margin">Platelet: <span id="platelet-result"></span></h3>
              <span id="platelet-icon" class="low-z"></span>
            </div>
            <p id="platelet-details" style="width:100%; margin:0; font-size:var(--text-XS);">This value was not recorded, tap to add.</p>
          </div>
          <div class="tooltip-positioner" style="right:500px; bottom:15px">
            <my-tooltip 
              content1="Liver elasticity is a major factor for determining liver fibrosis."
              content2="Higher fat content will lead to higher elasticity values and generally indicates poor liver health."
              numOfTips="3"
              tipNumber="3"
              position="tooltip-popup-right-top">
            </my-tooltip>
          </div>
          <div id="elasticity-section" class="section align-left" style="border-color: var(--blue);" onclick="window.location.href = './screening.html'">
            <div class="flex-row" style="width: 100%;">
              <h3 id="elasticity-label" class="no-margin">Elasticity: <span id="elasticity-result"></span><span id="elasticity-label-unit"> kPa</span></h3>
              <span id="elasticity-icon" class="low-z"></span>
            </div>
            <p id="elasticity-details" style="width:100%; margin:0; font-size:var(--text-XS);">This value was not recorded, tap to add.</p>
          </div>
        </div>
      </div>

      <div class="flex-row" style="align-items:flex-end; padding-top: 40px;">
        <a href="../pages/screening.html" id="back"></a>
        <div>
          <p class="no-margin" style="font-size: var(--text-XS); text-align: center;">Data will be deleted permanently</p>
          <a href="../index.html"><button id="end-screening">End Screening</button></a>
        </div>
      </div>

    </div>

    <script src="../renderer.js"></script>
    <script src="../components/progressbar.js"></script>
    <script src="../components/storage.js"></script>
    <script src="../components/buttons.js"></script>
    <script src="../components/results.js"></script>
    <script src="../components/tooltip.js"></script>
    <script src="https://cdn.lordicon.com/xdjxvujz.js"></script> 
    <script>
      displayResults();
      document.getElementById("back").innerHTML = backButton();
      document.getElementById("end-screening").addEventListener("click", () => clearAll());
    </script>
  </body>
</html>
